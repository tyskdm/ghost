# [@ SWDD.WPM] Work product Management

## 1. はじめに

- 本書は、Workproduct management process の詳細設計を示す。
- WPM は、CMプロセスと検証プロセスを融合したものです。

## 2. Work product management とは

- Work product とは、プロジェクト/プロセスの実施により作成される成果物です。
- Work product is an artifact from a project/process execution.

- 開発されたソフトウェアの品質を保証するため、プロセスが適切に運用された証拠を残す。

- 活動成果物の構成管理・作業成果物単体の品質管理手順を提供する。

- 内部に活動成果物管理リストを保持し、これに検証基準およびその記録方法を含めた成果物情報を登録する。
- 活動成果物管理実施の際は、台帳に従って検証・記録を行う。
- これにより、構成管理の一貫性と成果物検証の一貫性を維持する。
- RepositoryとStorageの２つの記録を扱う。

## 3. Domain model

### 3.1. Overview

| ![[@fig:puml PUML.PJIM::Main]](SWDD_WorkProductManagement/Domain_Workproduct.png) |
| :-: |
| fig 1 Overview - Work product domain model

#### Work product

- プロジェクト/プロセスの実施により作成される成果物。/ an artifact from a project/process execution.

- "A work product is any artefact produced by a process."  
  ISO/IEC 20246:2017 Software and systems engineering — Work product reviews

- 作業成果物は目的の観点から、Deliverables と Quality records に分類される。

- 作業成果物は管理方法の観点から、構成品目（Configuration item）と、記録品目（Recording item）とに分類される。

#### Deliverable

- "Deliverable" is a work product, generated by one process to be handed over to the next process or customer.  
  "Deliverable" とは、あるプロセスが次のプロセスもしくは顧客へ引き渡すために生成した、作業成果物です。

#### Quality record

- "Quality record" is a secondary output that provides evidence that "deliverable" is generated by appropriate activities that meet the required standards.  
  "品質記録" とは、"deliverable" が要求された基準を満たす適切な活動によって生成されたことを示す証拠となる、副次的な出力のことです。

#### Configuration item

- 相互に依存しあう item の集合。

- 集合に対してバージョンを持ち、ベースラインを識別することができる。

- item単体での状態・バージョンについては、ここでは定めない。集合に対してのみ制御する。

- CMSを利用し、CMPで管理される。

#### Configuration management System

- 構成管理ツール（Git Hosting service）と変更管理プロセスにより、構成品目の管理を行う。

#### Recording item（Record）

- item 個別にバージョンを持ち、記録・証拠として参照することができる。
  - version は必ずしも番号ではない。修正の生じた成果物に対して、過去の状態を指定して参照可能とする機能を指す。

- item の集合に対するバージョン/ベースラインを制御する機能は提供しない。

- Configuration items の一部として、Configuration item からバージョンを指定して参照される場合がある。

- 電子ファイルとして Storage に記録されるものと、GitHub の pull request コメントや Jira チケットのコメントなどツール内に保持されるものとがある。

#### Recording management System

- 記録品目は、Strage、Issue Ticketおよびそのコメント、GitHub PullRequestコメントなどの各種媒体に保管される。

- RMSは、記録品目を保管する各種記録媒体において品目識別、バージョン識別の手段、および制御プロセスを提供する。

### 3.2. Work product

#### 3.2.1. Overview

- プロジェクト/プロセスの実施により作成される成果物。/ an artifact from a project/process execution.

- "A work product is any artefact produced by a process."  
  ISO/IEC 20246:2017 Software and systems engineering — Work product reviews

| ![[@fig:puml PUML.PJIM::Main]](SWDD_WorkProductManagement/Workproduct.png) |
| :-: |
| fig 1 Work product

1. Objective Type
   - 作業成果物は目的の観点から、deliverables と Quality records に分類される。
2. Control Type
   - 作業成果物は管理方法の観点から、構成品目（Configuration item）と、記録品目（Recording item）とに分類される。
3. Work product Type
   - Work product種別のリストがあり、それぞれ検証基準、テンプレートが用意されている。  
4. Verification Level
   - 検証レベルがある。
5. Status
   - 作業中、レビュー中、承認済、リリース済などの状態を持つ。
   - 検証手続きを含む状態遷移プロセスが定義される。
6. Version
   - 識別された成果物が加筆・変更される履歴の中の、どの時点のモノであるかを一意に特定するために、Version情報を持つ。

#### 3.2.2. Work product Type

- Work product には種別があり、その種別ごとにテンプレート・検証基準をもつ

| ![[@fig:puml PUML.PJIM::Main]](SWDD_WorkProductManagement/WorkproductTemplate.png) |
| :-: |
| fig 1 Work product Template

#### 3.2.3. Verification Level

|  #  | 検証区分 | 検証基準・記録 | 説明 |
| :-: | -------- | -------------- | ---- |
| 3 | configuration レベル検証 | 他の Configuration item により（コンテンツに依存して）定める。結果を記録に残す。 | 検証対象・検証基準ともにitemレベル検証を実施したのち、configuration レベル検証を実施する。システムテスト仕様書に基づいてシステムテストを実施するケースなどがこれにあたる。
| 2 | item レベル検証          | item 種別毎にあらかじめ定められた（コンテンツに依存しない）検証基準を使用し、結果を記録に残す。 | Work product Type 毎に定められた検証基準に従いチェックを行う。レビューによるもの、lintチェッカーなどツールによるものとを含む。
| 1 | セルフチェック           | 作業者自身の基準による自己チェック。チェックリストや記録があることが望ましいが、必ずしも必須でない。| 主に検証記録がこれにあたる。たとえばレビュー指摘リストをレビューして記録を残すことは、一般に冗長でありデメリットのほうが大きい。設計検討中のメモなど検証されていなくとも記録して後の参考に供したいものもこれにあたる。

#### 3.2.4. Status

| ![[@fig:puml PUML.PJIM::Main]](SWDD_WorkProductManagement/WorkproductStates.png) |
| :-: |
| fig 1 Work product State transition

- Work product の状態変更手順は、構成品目（Configuration item）と記録品目（Recording item）で異なる。それぞれのパートで示す。

#### 3.2.5. Version

##### Feature

- version は、その成果物が加筆・変更される履歴の中の、どの時点のモノであるかを一意に特定する。
  - version には item version と configuration version がある。
  - 個別の Workproduct は item version を持ち、その集合である Configuration items（なにか名前を付与するべきか？）は、Configuration version を持つ。

##### Implementation

- かならずしも、その文書中に記述されたversion番号とは限らない。コミットIDや、バージョン固有URLにて示す場合もある。
- 形式は、そのitem種別により異なる。

### 3.3. Deliverables

- "Deliverable" is a work product, generated by one process to be handed over to the next process or customer.  
  "Deliverable" とは、あるプロセスが次のプロセスもしくは顧客へ引き渡すために生成した、作業成果物です。

- A "deliverable" of the project/process is not necessarily a "release product"(SUP.2) delivered to the customer. But the release product is always a "deliverable."  
  プロジェクト/プロセスの "deliverable"は、必ずしも顧客に納品されるリリース成果物（SUP.2）ではありません。しかし、リリース成果物は必ず "deliverable"です。

- プロセスの3階層（ENG, PRJ, ORG）とそれぞれの D, QR。

- Deliverables are usually directly subject to configuration management.  
  Deliverablesは通常、直接的に構成管理の対象となります。

- 例外的には、Recording item として管理され間接的に構成管理の対象になります。

### 3.4. Quality records

- "Quality record" is a secondary output that provides evidence that "deliverable" is generated by appropriate activities that meet the required standards.  
  "品質記録" とは、要求された基準を満たす適切な活動によって "deliverable" が生成されたことを示す証拠となる、副次的な出力のことです。

- Quoted form [HOW TO CREATE USEFUL SOFTWARE PROCESS DOCUMENTATION](http://www.westfallteam.com/how-create-useful-software-process-documentation):
  > Quality Records  
  > While deliverables are the direct, intended outputs from the processes, quality records are secondary outputs that provide the evidence that the appropriate activities took place and that the execution of those activities met the required standards. Examples of quality records include: test logs, minutes from meetings, audit reports, engineering notebooks, action item lists, and status reports.
  >
  > 品質記録  
  > 成果物がプロセスからの直接的な、意図されたアウトプットであるのに対し、品質記録は、適切な活動が行われ、それらの活動が要求された基準を満たしていたという証拠を提供する副次的なアウトプットである。品質記録の例としては、テストログ、会議の議事録、監査報告書、エンジニアリングノート、アクションアイテムリスト、ステータスレポートなどがあります。

  - Memo: [英文の引用ってどうやるの？英語のレポートや論文での引用符の使い方をレクチャー！](https://progrit-media.jp/199)

- Automotive SPICE による QR の成果物特性定義

  > 13-18 品質記録  
  >
  > - 保管する情報を識別している
  > - タスク／活動／プロセスが生成する情報を識別している
  > - データの収集日を識別している
  > - あらゆる関連データの出処を識別している
  > - 関連する品質基準を識別している
  > - 情報を使用したあらゆる関連測定項目を識別している
  > - 記録を作成するために遵守すべきあらゆる要件、または記録によって満たすべきあらゆる要件を識別している

  - 上記より広い意味で使用しています。

- Automotive SPICE SUP.1・品質保証の、以下の成果を支えます。

> (2) 品質保証が、利益相反なく独立的かつ客観的に実施されている。  
> (3) 作業成果物、プロセス、およびプロセス活動において関連する要件からの不適合事項が、識別、記録、関係者へ伝達、追跡、解決、さらに予防されている。  
> (4) 作業成果物、プロセス、および活動が関連する要件を遵守していることが検証され、文書化され、関係者へ伝達されている。

上記の記述も、大きな意味では同一です。

- Quality records can be stored in a variety of formats, depending on their type.  
  品質記録はその種類に応じて、多様な保管形式をもちます。

### 3.5. Configuration items

- 構成管理対象の作業成果物。

- 構成管理対象全体に対して、以下の特性を持つ。
  - 変更制御とステータス
    - ステータス情報（すなわち、開発中、ベースライン済、リリース済）  
      status information (i.e., development, baselined, released)
    - 変更制御記録の識別  
      identification of the _change control records_(31-21)
    - 変更履歴の識別  
      identification of change history
  - リポジトリ構成
    - 関連する構成管理ライブラリ、ファイル、システム  
      associated configuration management library, file, system
    - 責任者  
      responsible owner
    - 下位レベルの構成品目との関係  
      relationship to lower level configured item

- 構成品目（Configuration item）単体に対して、以下の特性を持つ。
  - 品目の種類（Work productとして保持済み）  
    type of item
  - 構成制御下に置かれた日付  
    date when placed under configuration control

### 3.6. Configuration Management System

#### 3.6.1. Overview

| ![[@fig:puml PUML.PJIM::Main]](SWDD_WorkProductManagement/WorkproductRepository.png) |
| :-: |
| fig 1 Work products state

1. Git Hosting service
   - 構成品目を Git Hosting service で管理する。
   - ただし、gitリポジトリへ含めることが適切でない構成品目（たとえば巨大なバイナリデータファイル）は記録品目として他のストレージに保管・記録したうえで、Gitリポジトリ内にて管理された構成品目からバージョンを特定して参照される。

2. Configuration Status
   - Branching strategy は、git-flow model をベースとする。
   - プロジェクト毎の必要に応じ、master / develop / feature をそれぞれブランチグループ名と拡大解釈して運用する。
     - テンプレートに数パターンを用意する（階層化developブランチ、派生開発のためのメンテナンスブランチ、など）
     - そのため以下の説明では、グループ名として扱う。

3. Configuration Version
   - develop branch のコミットIDにより、バージョンを識別する。

4. Change Contorol Process
   - 構成品目を追加・変更・削除する手順を提供する。
   - 以下が記録される。
     - 誰が何の課題解決のために作業を行ったか
     - Checkin のためのレビュー結果
     - Checkin の承認者

5. Maintenance Process
   - リポジトリのバックアップ手順、復旧手順、プロジェクト終了後の長期保管手順などを提供する
   - 責任者を特定し、定期的に実施されることを確実にする。

6. 【仮】Monitoring Process
   - Configuration items に対して、ステータスをモニタリングし、可視化 / レポート可能にする
   - モニタリング観点は、トレーサビリティ確立度合い、item個別のバージョン情報（作成状況）、レビュー記録充足度、などの健全性品質を確認したい。
   - 最終的に機械化したい部分。

#### 3.6.2. Configuration Status

- Gitリポジトリの branch を、Configuration Status にマッピングする。

| ![[@fig:puml PUML.PJIM::Main]](SWDD_WorkProductManagement/ConfigurationStates.png) |
| :-: |
| fig 1 Configuration State transition

- develop branch が、承認された成果物。
- develop branch が、baseline として機能する。
- 上位設定事項： develop branch (= baseline) の受入れ条件は上位プロセスで定める。

#### 3.6.3. Configuration Version

- Configuration identifier などとして、version を上位用語として明け渡したほうがよいかもしれない。
- あるいは、内部バージョン、という用語にする。Configuration version は外部バージョンに聞こえる。

- developブランチ（Status=承認済み）の各コミットを、バージョン識別番号とする。
  - 外部公開向や特定用途向けに、別途バージョンが必要な場合（セマンティックバージョニングや外部向けBaseline識別など）は、上位プロセスにてtagを付与することで実現する。

- 上位設定事項： Version tag ルール

#### 3.6.4. Change Control Process

- 用語としての Checkout / Checkin - baseline を説明する。

- 変更制御は、以下のプロセスに従う。
  - Checkout()
  - Request Checkin()
  - Accept Checkin() --> CCBを呼び出す（上位プロセスへのCallback）場合あり
  - Release()

※ Prepair Release() および状態図にリリース準備中、が必要そう。  
　 緊急時のための、hotfix() も必要か？

- 上位設定事項： Acceptance条件（上位プロセスへのCallback）

#### 3.6.5. Maintenance Process

※ Configuration management process と位置付けたほうがよいかも。

- baseline のセット（実際にはタグ付与）、バージョン番号のセット（実際にはタグ）などの手段を提供する、過去の構成品目を取り出す、など。

- Archiving (long term storage) and backup plan

※ それぞれの手段にプランが必要

- 上位設定事項： 責任者およびプロセスの実行プラン

### 3.7. Recording items

#### 3.7.1. Overview

1. 実際のプロジェクトでは、プロセスによって生成されるものと、客先や委託先から受領されたものを確認し記録するものとがある。厳密には受領物は work product ではないが、記録品目に含める。

2. 検証記録を残すものと、残さないものがある。
   - 検証基準にレビューを含むものと含まないものがある。

3. 専用ツールに保管されるものと、汎用ツールに保管されるものとがある。

4. 全てのitemが備えるべき要件がある。

#### 3.7.2. 備えるべき要件

- version 識別可能
- Who / When / from who
- 検証記録（レビュー記録）を要するものは同時に保管可能

### 3.8. Recording Management System

- RMSは、記録品目を保管する各種記録媒体において品目識別、バージョン識別の手段を提供する。
  - Storage, Github pull req, Jira ticket comment, Google spreadsheet などの手段ごとに、Work product を一意に識別し、且つ改版履歴上の特定バージョンを一意に指定できる手段を提供する。
- 更新（ver up）可能、過去版参照可能

管理対象：

手段：

RMS::Create()
RMS::Read()
RMS::Update()
RMS::Delete()

上記の定義、手段を追加するときのテンプレートを提供したい。

#### 3.8.1. 汎用ツール

##### Strage

管理対象：

手段：

RMS::Create()
RMS::Read()
RMS::Update()
RMS::Delete()

- file path で識別する。
- file name に日付文字列またはバージョン番号を含めることでバージョンを特定する。
- 詳細をPPに定める。

- TODO： 命名規則、運用ルールをテンプレート提供し、PPからデフォルトでそこを参照させる。

##### Confluence

管理対象：

手段：

RMS::Create()
RMS::Read()
RMS::Update()
RMS::Delete()

- url で識別する。
- Publish でバージョンを作成し、urlオプションでバージョン指定参照する。

- TODO： 命名規則、運用ルールをテンプレート提供し、PPからデフォルトでそこを参照させる。

#### 3.8.2. 専用ツール

##### Github pullreq Commnet

管理対象：

手段：

RMS::Create()
RMS::Read()
RMS::Update()
RMS::Delete()

##### Jira

管理対象：

手段：

RMS::Create()
RMS::Read()
RMS::Update()
RMS::Delete()
